defaults {
	lang cpp
	naming underscore
}
part
{
	cpp_dec {
		input declarations.jinja
		file declarations.hpp
	}
	header {
		inc_part cpp_dec
		input header.jinja
		file modules.hpp
		filter {
			sel interface
			sel record
		}
	}
	definition {
		inc_part cpp_dec
		inc_part header
		input definitions.jinja
		file modules.cpp
	}
	pymod {
		inc_part cpp_dec
		input python/cpppy.jinja
		file_map $mod_$va.$vi.cpp
		versioning split
	}
	cmake {
		lang cmake
		input plain.jinja
		file CMakeLists.txt
		project interface
		deps {
			pybind11 { ldep "pybind11::embed" }
		}
		libraries {
			"$mod-$vm.$vi" {
				part cpp_dec
				part header
				part definition
				part pymod
				dep pybind11
			}
		}
	}
}
